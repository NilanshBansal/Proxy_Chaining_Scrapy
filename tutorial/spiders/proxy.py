# -*- coding: utf-8 -*-
import scrapy
import random
from scrapy.http.request import Request


class ProxySpider(scrapy.Spider):
    name = 'proxy'
    # allowed_domains = ['8e7e2b0b.ngrok.io']
    start_urls = []

    def __init__(self, *args, **kwargs):
        super(ProxySpider, self).__init__(*args, **kwargs)
        self.proxy_pool = ['128.199.117.194:80', '207.148.8.243:8080', '85.159.224.183:8080', '188.168.241.62:53281', '176.110.153.63:41258', '103.68.184.238:53281', '95.80.252.117:41258', '187.60.254.30:8080', '185.223.114.178:8080', '103.88.237.72:53281', '180.234.212.22:53281', '140.227.26.111:3128', '149.56.103.185:10000', '46.232.141.187:41258', '103.88.234.245:53281', '66.82.144.29:8080', '163.43.30.9:60088', '46.175.242.132:41258', '157.65.167.21:3128', '51.38.64.76:10000', '178.57.37.34:44331', '140.227.80.50:3128', '109.108.87.60:8080', '95.80.252.98:41258', '195.230.115.241:8080', '202.4.126.147:53281', '185.26.31.51:41258', '95.221.133.188:44331', '46.41.148.152:3128', '213.109.134.74:41258', '178.204.26.172:8871', '212.90.183.149:8080', '176.110.152.31:41258', '159.89.163.248:53281', '149.56.45.68:10000', '153.127.216.249:60088', '204.52.206.65:8080', '189.115.92.71:80', '93.183.250.27:41258', '18.221.220.124:80', '203.77.224.186:63909', '160.16.219.177:60088', '91.244.212.1:8080', '150.95.154.91:3128', '176.37.48.20:8080', '149.28.235.106:60088', '188.191.165.4:31773', '81.163.35.160:41258', '186.96.93.227:53281', '37.1.43.25:53281', '191.7.211.74:53281', '185.248.245.128:41258', '109.196.127.98:41258', '85.91.119.6:8080', '192.116.142.153:8080', '185.109.57.42:41258', '197.45.21.46:53281', '93.171.128.29:53281', '95.80.253.198:41258', '153.127.199.19:60088', '46.250.1.74:53281', '201.167.56.18:53281', '165.16.83.108:53281', '176.110.154.240:41258', '91.214.61.160:41258', '78.108.150.82:53281', '194.187.148.135:41258', '79.143.119.120:41258', '92.39.154.58:41258', '5.167.29.96:53281', '83.219.139.180:41258', '91.142.164.34:8080', '212.66.122.213:41258', '104.219.184.106:53281', '91.228.89.39:41258', '217.112.110.188:41258', '95.68.245.129:53281', '46.229.90.239:41258', '83.219.149.235:41258', '79.143.118.89:41258', '124.109.22.73:53281', '133.242.224.79:60088', '145.249.106.107:8118', '88.147.146.136:8080', '179.235.141.8:53281', '91.201.240.186:53281', '217.107.105.207:53281', '138.97.116.226:8080', '91.193.238.177:53281', '83.219.149.60:41258', '43.228.223.243:53281', '133.242.237.62:60088', '103.110.88.90:53281', '138.201.5.251:53281', '83.175.238.170:53281', '82.114.90.161:53281', '109.224.57.226:53281', '163.43.29.93:60088', '94.240.30.116:53281', '83.217.208.157:53281', '83.219.137.25:41258', '212.58.202.218:44331', '46.41.148.153:3128', '103.241.205.66:8080', '109.196.127.50:41258', '163.172.86.64:3128', '95.67.67.54:53281', '133.130.117.241:3128', '103.97.203.96:8080', '91.241.38.205:41258', '109.172.25.77:53281', '103.79.8.130:53281', '185.223.115.53:53281']

    def start_requests(self):
        request = Request(url="https://8e7e2b0b.ngrok.io")
        request.meta['proxy'] = random.choice(self.proxy_pool)
        self.logger.info('i am visiting url ')
        yield request

    
    def parse(self, response):  
        self.logger.info('DEKH BHAI DEKH')
        pass
